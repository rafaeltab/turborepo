---
title: Workspaces
description: A guide on workspaces to onboard onto using Turborepo.
---

import {Tabs, Tab} from '../../../components/Tabs'

# Workspaces

Turborepo makes use of workspaces to organize your apps and packages. But how do they work? This guide will walk you through the basics of workspaces.

## What are workspaces?

Workspaces is a feature implemented by package managers to organize apps and packages. It is a way to organize your apps and packages into a single place.
Each package manager has its own implementation of workspaces, links to their respective documentation are listed below.

- [npm workspaces](https://docs.npmjs.com/cli/v7/using-npm/workspaces)
- [yarn workspaces](https://classic.yarnpkg.com/lang/en/docs/workspaces/)
- [pnpm workspaces](https://pnpm.io/workspaces)

Workspaces allow you to create folders, each called a workspace, each with its own package.json, and you can install packages into each workspace.
A workspace can also depend on other workspaces.
A workspace is generally either an app, an application that can be executed such as an api, or a package, an application that can be used as a dependency by other workspaces.

## Adding workspaces

Another common issue is that users don't know how to add a workspace to the monorepo.

To add a workspace, you need a few things.

1. A folder for your workspace
2. Something that indicates that a folder is a workspace
3. A `package.json` file in the workspace folder

### A folder for your workspace

First, you need to decide where you want to put your workspace.
A common pattern is to have an `apps` folder and a `packages` folder.
The `apps` folder will contain workspaces that house launchable apps, such as a next.js app.
The `packages` folder will contain workspaces that house packages that are used by either an app or another package.

When you have decided where to put the workspace, you simply create a folder for it.

### Something that indicates that a folder is a workspace

After creating your folder, you need to make sure your package manager knows that your folder is a workspace folder.

This step is different for `pnpm` than it is for `npm` and `yarn`.

For `pnpm` you need to add the folder to the `pnpm-workspace.yaml` file that exists in your root.
This file contains a list of workspaces in the form of globs.
An example `pnpm-workspace.yaml` file could look like this

```yaml
packages:
  - "docs"
  - "apps/*"
  - "packages/*"
```

For `yarn` and `npm`, you need to add the folder to the `workspaces` field in the root `package.json` file
This field contains a list of workspaces in the form of globs.
An example workspaces section in a `package.json` file could look like this

```json
{
  "name": "monorepo",
  "version": "1.0.0",
  "workspaces": [
    "docs",
    "apps/*",
    "packages/*"
  ]
}
```

Each folder that matches any of the globs in the list is considered a workspace folder.
In both of the provided examples above, the `apps` and `packages` folders both contain folders that are workspaces, and the `docs` folder itself is a workspace.

```
monorepo/
├─ docs/
├─ apps/
│  ├─ api/
│  ├─ mobile/
├─ packages/
│  ├─ tsconfig/
│  ├─ config/
├─ sdk/
```

With the folder structure above, using the same workspace configuration, the `monorepo/docs/`, `monorepo/apps/api/`, `monorepo/apps/mobile/`, `monorepo/packages/config/`, and `monorepo/packages/tsconfig/` folders are all considered workspaces.
While the `monorepo/sdk/` folder is not considered a workspace, it is not included in the workspace configuration.

### A `package.json` file in the workspace folder

After creating the folder and adding it to the list of workspaces, we want to create the `package.json` file for the workspace.
This `package.json` file will house all the information for the workspace, such as the version, dependencies, and scripts, just like a normal `package.json` file would.

## Installing packages

Installing packages in a workspace is slightly different than installing packages normally.
When not working in a monorepo, you can simply run `npm install <package>`, but now that installs the package in the root of the monorepo.
You may think moving into a workspace folder and running the command there would work, but instead the entire `node_modules` folder will end up there
So, how do you install a package?

Well, you run the following commands for the following package managers:

<Tabs items={['npm', 'yarn', 'pnpm']} storageKey="selected-pkg-manager">
  <Tab>

    Command:

    ```bash
    npm install <package> -w=<workspace>
    ```

    Example:

    ```bash
    npm install react -w=web
    ```

  </Tab>
  <Tab>

    Command:

    ```bash
    yarn workspace <workspace> add <package>
    ```

    Example:

    ```bash
    yarn workspace web add react
    ```

  </Tab>
  <Tab>

    Command:

    ```bash
    pnpm add <package> --filter <workspace>
    ```

    Example:

    ```bash
    pnpm add react --filter web
    ```

  </Tab>
</Tabs>

## Naming workspaces

Some issues can occur when choosing names for your workspaces.
Therefore, we want to provide some guidelines and best practices.

Workspaces can't have the same name.
When workspaces do have the same name it will cause problems when doing an installation, and it also means you won't be able to target the workspace in any way since Turborepo and package managers won't know which workspace you are targeting.

Another important thing is that you should not name your workspace the same name as an existing npm package.
It gets worse if you also have that package as a dependency for one of your workspaces, this will not work and cause errors during installation.
If you don't have a dependency on the npm package, it should technically work.
However, it is still a bad idea, since you may want to add a dependency to that package in the future, or you will have to refactor your entire code base if you ever decide you want to publish the package to npm yourself.

A common naming convention for monorepos is to use the name of the monorepo, and the name of the workspace is separated by a slash and preceded by an @ symbol.
An example of this would be `@todolist/app`, this convention prevents most npm naming collisions, and clearly shows that the workspace exists in the monorepo.

## Example projects

A couple of example projects that use Turborepo have been created.
They can all be found on the Turborepo GitHub.

The repository has the following examples:

- [basic](https://github.com/vercel/turborepo/tree/main/examples/basic): A basic monorepo that uses yarn, has documentation using Next.js and a frontend, also using Next.js. It also has a next.js UI package.
- [design-system](https://github.com/vercel/turborepo/tree/main/examples/design-system): An official React design system starter.
- [kitchen-sink](https://github.com/vercel/turborepo/tree/main/examples/kitchen-sink): A more elaborate example, which has four apps, an API using express, a storefront using Next.js, an admin panel using Vite, and a blog using Remix.
- [with-pnpm](https://github.com/vercel/turborepo/tree/main/examples/with-pnpm): An official starter repo that uses the pnpm package manager.
